<!DOCTYPE html>
<html>
<head>
	<title>PRODUCTE LIST</title>
	<script type="text/javascript" src="scriptProducte.js"></script>
	<script type="text/javascript">
		
		function printList(){
			var txt = "";
			for (var i = 0; i < list.length; i++) {
				var info = list[i].info();
				txt = txt + "<li>" + i + "</span> " + info + "</li>";
			}

			var u = document.getElementById("lista");
			u.innerHTML = txt;
		}

		function orderAsc(){
			list.sort(function(x, y){ return (x.preu > y.preu) ? 1 : -1;});
			printList();
		}

		function orderDesc(){
			list.sort(function(x, y){ return (x.preu > y.preu) ? -1 : 1;});
			printList();
		}

		function findByCat(){
			var marca = document.getElementById("item").value;

			var txt = "";

			for(var i = 0; i < list.length; i++){
				var info = list[i].info();
				var categoria = list[i].getCategoria();
				if(categoria === marca){
					txt = txt + "<li>" + i + "</span> " + info + "</li>";
				}
			}

			var u = document.getElementById("lista");
			u.innerHTML = txt;
		}
		function countBrand(){

			var count = 0;
			for(var i = 0; i < list.length; i++){
				if(list[i].getCategoria() === "Iphone"){
					count++;
				}
			}
			alert('There are ' + count + " products in this category.");
		}

		function restart(){
			printList();
		}
	</script>
</head>
<body>
	<h3>Funda de Moviles</h3>
	<ul id="lista">
	</ul>
	<hr/>
	Search:	<input type="text" id="item"/><br/><br/>
	<button onclick="findByCat()">Search by this category</button>
	<button onclick="orderAsc()">Seach by Asc. Price</button>
	<button onclick="orderDesc()">Seach by Desc. Price</button>
	<button onclick="countBrand()">Total Iphones</button>
	<button onclick="restart()">Go home</button>
	<script type="text/javascript">
		var list = new Array();

		list[0]= new Funda("Funda Iphone X", "ABC123", "Iphone", 100);
		list[1]= new Funda("Funda Xioami Redmni 4A", "DEF456", "Xiaomi", 45);
		list[2]= new Funda("Funda Huawei P30","GHI789", "Huawei", 50);
		list[3]= new Funda("Funda Motorola", "JKL123", "Motorola", 35);
		list[4]= new Funda("Funda Iphone XII", "MNO456", "Iphone", 600);
		printList();

	</script>
</body>
</html>